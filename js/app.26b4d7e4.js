(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],v=0,d=[];v<r.length;v++)o=r[v],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00c1":function(t,e,a){"use strict";var s=a("984a"),i=a.n(s);i.a},1:function(t,e){},"19ea":function(t,e,a){},"27f0":function(t,e,a){},"2dba":function(t,e,a){},3007:function(t,e,a){"use strict";var s=a("b519"),i=a.n(s);i.a},"38a4":function(t,e,a){},"4df7":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("534e"),a("f89d");var s=a("a026"),i=a("2f62"),n=a("b29a"),o=a.n(n),r=a("5530"),c=a("28dd");s["a"].use(c["a"]),s["a"].http.interceptor.before=function(t){t.url=/(http|https):\/\/([\w.]+\/?)\S*/.test(t.url)?t.url:"https://api.douban.com/"+t.url,t.params=Object(r["a"])({apikey:"0df993c66c0c636e29ecbb5344252a4a"},t.params)};a("baa5");s["a"].use(i["a"]);var l=new i["a"].Store({modules:{navigator:{strict:!0,namespaced:!0,state:{stack:[],options:{}},mutations:{push:function(t,e){t.stack.push(e)},pop:function(t){t.stack.length>1&&t.stack.pop()},replace:function(t,e){t.stack.pop(),t.stack.push(e)},reset:function(t,e){t.stack=[e||t.stack[0]]}}},tabbar:{strict:!0,namespaced:!0,state:{index:0},mutations:{set:function(t,e){t.index=e}}},selectPage:{strict:!0,namespaced:!0,state:{city:{value:localStorage.getItem("city")||"北京",trueValue:!1},BaiDuMapUrl:"https://api.map.baidu.com/geocoder/v2/",ak:"inNtxrDqUe6De9bosxvTV3sVaRGt5sGh"},mutations:{changeCity:function(t,e){localStorage.setItem("city",e.value),t.city={value:e.value,trueValue:e.trueValue}}},actions:{getMobPosition:function(t){var e=t.commit,a=function(){e("changeCity",{value:"北京",trueValue:!1}),o.a.notification.toast("自动定位失败，您可以手动设置位置",{timeout:2e3})};"undefined"!==typeof cordova?cordova.plugins.baidumap_location.getCurrentPosition((function(t){var a=t.city;a.lastIndexOf("市")==a.length-1&&(a=a.substring(0,a.length-1)),e("changeCity",{value:a,trueValue:!0})}),a):a()},getH5Position:function(t){var e=t.state,a=t.commit;function i(t){s["a"].http.jsonp(e.BaiDuMapUrl+"?location="+t.coords.latitude+","+t.coords.longitude+"&output=json&pois=1&ak="+e.ak).then((function(t){var e=t.body,s=e.result.addressComponent.city;s.lastIndexOf("市")==s.length-1&&(s=s.substring(0,s.length-1)),a("changeCity",{value:s,trueValue:!0})}))}function n(){a("changeCity",{value:"北京",trueValue:!1}),o.a.notification.toast("自动定位失败，您可以手动设置位置",{timeout:2e3})}navigator.geolocation.getCurrentPosition(i,n,{timeout:1e3})}}}}}),u=a("b9dd"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ons-navigator",{attrs:{"page-stack":t.pageStack,"pop-page":t.storePop}})},d=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ons-page",{style:t.swipePosition},[a("v-ons-tabbar",{attrs:{position:"bottom",tabs:t.tabs,index:t.index,"tab-border":"false"},on:{"update:index":function(e){t.index=e}}})],1)},f=[],m=(a("99af"),a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ons-page",{staticClass:"HitMoviePage"},[a("index-header",{attrs:{city:t.city.value}}),a("v-ons-tabbar",{staticClass:"selectTabbar",attrs:{"tab-border":"",swipeable:"",position:"top",tabs:t.tabs,visible:!0}})],1)}),p=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"selectItem",on:{click:function(e){return t.push(t.selectCityPage)}}},[a("span",{staticClass:"selectCity"},[t._v(t._s(t.city))]),a("v-ons-icon",{staticClass:"icon--down",attrs:{icon:"ion-ios-arrow-down,material:md-chevron-down"}})],1),a("v-ons-search-input",{staticClass:"ons-search-input",attrs:{readonly:"",placeholder:"电影 / 电视剧 / 影人"},on:{click:function(e){return t.push(t.searchPage)}}})],1)},_=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ons-page",{staticClass:"searchPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("v-ons-search-input",{staticClass:"search",attrs:{placeholder:"搜索电影 / 电视剧 / 影人"},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.doSearch(e):null}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t.searchValue?a("v-ons-icon",{staticClass:"clearSearch",attrs:{icon:"ion-ios-close-empty,material:md-close",size:"2x"},on:{click:function(e){t.searchValue=""}}}):t._e(),a("v-ons-button",{attrs:{modifier:"quiet",ripple:"false"},on:{click:t.back}},[t._v("取消")])],1),a("div",{staticClass:"body"},[!t.searchValue&&t.searchHistoryArr&&t.searchHistoryArr.length>0?a("v-ons-row",{staticClass:"searchHistory"},[a("v-ons-row",{staticClass:"searchHistory__title"},[a("v-ons-col",[t._v("搜索历史")]),a("v-ons-col",{staticClass:"title--right",attrs:{width:"2em"},on:{click:t.searchHistoryClear}},[t._v("清除")])],1),a("div",{staticClass:"searchHistory__main"},[a("v-ons-row",{staticClass:"searchHistory__item"},t._l(t.searchHistoryArr,(function(e,s){return a("v-ons-col",{key:s,attrs:{width:1==t.searchHistoryArr.length?"100%":"50%"},on:{click:function(a){return t.quickSearch(e)}}},[t._v(t._s(e))])})),1)],1)],1):t._e(),t.searchMovieList.length>0?a("v-ons-row",{staticClass:"searchMovie"},[a("v-ons-row",{staticClass:"searchMovie__title"},[a("v-ons-col",[t._v("影视")])],1),a("v-ons-row",{staticClass:"searchMovieList"},t._l(t.searchMovieList,(function(e){return a("v-ons-row",{key:e.id,staticClass:"searchMovieList__item",attrs:{id:e.id},on:{click:function(a){return t.toDetailPage(e.id)}}},[a("v-ons-col",{staticClass:"item__left",attrs:{width:"60px"}},[a("img",{attrs:{src:e.images.small}})]),a("v-ons-col",{staticClass:"item__right"},[a("div",{staticClass:"movieName",domProps:{innerHTML:t._s(t.movieName(e.title))}}),a("div",{staticClass:"movieDetail"},[t._v(t._s(0==e.rating.average?"暂无评":e.rating.average)+"分/"+t._s(e.year))])]),a("v-ons-ripple",{attrs:{modifier:"light-gray",size:"contain"}})],1)})),1),a("v-ons-row",{staticClass:"searchMovie__moreVideo",on:{click:t.doSearch}},[a("v-ons-col",{attrs:{"vertical-align":"center"}},[t._v("查看更多视频")]),a("v-ons-col",{attrs:{"vertical-align":"center",width:"18px"}},[a("v-ons-icon",{attrs:{icon:"ion-ios-arrow-forward,material:md-chevron-right",size:"lg"}})],1),a("v-ons-ripple",{attrs:{modifier:"light-gray",size:"contain"}})],1)],1):t._e(),t.searchValue&&0===t.searchMovieList.length?a("Loading"):t._e()],1)])])},b=[],C=(a("c975"),a("a434"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ons-page",{staticClass:"searchPage",attrs:{"infinite-scroll":t.loadMore}},[a("div",{staticClass:"content"},[a("div",{staticClass:"header"},[a("v-ons-search-input",{staticClass:"search",attrs:{type:"search",placeholder:"搜索电影 / 电视剧 / 影人",transparent:""},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.doSearch(e):null}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}},[a("input",{staticClass:"search-input"})]),t.searchValue?a("v-ons-icon",{staticClass:"clearSearch",attrs:{icon:"ion-ios-close-empty,material:md-close",size:"2x"},on:{click:function(e){t.searchValue=""}}}):t._e(),a("v-ons-button",{attrs:{modifier:"quiet",ripple:"false"},on:{click:t.back}},[t._v("取消")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.searchMovieList.length>0,expression:"searchMovieList.length>0"}],staticClass:"body"},[t.searchMovieList.length>0?a("v-ons-row",{staticClass:"searchMovie"},[a("v-ons-row",{staticClass:"searchMovie__title"},[t.searchTotal?a("v-ons-col",[t._v("共"+t._s(t.searchTotal)+"个电影")]):t._e()],1),a("v-ons-row",{staticClass:"searchMovieList"},t._l(t.searchMovieList,(function(e){return a("v-ons-row",{key:e.id,staticClass:"searchMovieList__item",attrs:{id:e.id},on:{click:function(a){return t.toDetailPage(e.id)}}},[a("v-ons-col",{staticClass:"item__left",attrs:{width:"79px"}},[a("img",{attrs:{src:e.images.small}})]),a("v-ons-col",{staticClass:"item__right"},[a("div",{staticClass:"movieName"},[t._v(t._s(e.title))]),a("rating",{staticClass:"details__score",attrs:{rating:e.rating}},[a("span",{staticClass:"score__number",attrs:{slot:"rating__text"},slot:"rating__text"},[t._v(t._s(e.rating.average))])]),e.directors.length>0?a("div",[t._v("导演："+t._s(e.directors["0"].name))]):t._e(),e.casts.length>0?a("div",[t._v(" 主演： "),t._l(e.casts,(function(e,s){return a("span",{key:s},[t._v(t._s(0!=s?" / ":"")+t._s(e.name))])}))],2):t._e()],1),a("v-ons-ripple",{attrs:{modifier:"light-gray",size:"contain"}})],1)})),1)],1):t._e()],1),a("Loading",{directives:[{name:"show",rawName:"v-show",value:0===t.searchMovieList.length,expression:"searchMovieList.length===0"}]})],1)])}),k=[],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.detail||0!=t.rating.average?a("div",[a("span",{class:"allstart"+t.rating.stars}),t._t("rating__text")],2):t._e(),0==t.rating.average?a("div",{staticClass:"details__score"},[t._v(" 暂无评分 ")]):t._e()])},x=[],L={name:"rating",props:["rating","detail"],data:function(){return{}}},P=L,M=(a("e9eb"),a("2877")),O=Object(M["a"])(P,w,x,!1,null,"4377e6b6",null),S=O.exports,V=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{attrs:{src:a("8096")}})])}],H={name:"Loading",data:function(){return{}}},j=H,N=(a("aecf"),Object(M["a"])(j,V,$,!1,null,"0ef8ae13",null)),I=N.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ons-page",{staticClass:"detailPage"},[a("v-ons-toolbar",{style:{backgroundColor:t.posterBG},attrs:{modifier:"transparent cover-content"}},[a("div",{staticClass:"left"},[a("v-ons-back-button",{staticClass:"back-button"})],1),a("div",{staticClass:"center"},["movie"==t.res.subtype?[a("v-ons-icon",{attrs:{icon:"ion-ios-film-outline, material: md-movie",size:"lg"}}),a("span",[t._v("电影")])]:[a("v-ons-icon",{attrs:{icon:"ion-ios-monitor-outline, material: md-tv",size:"lg"}}),a("span",[t._v("电视")])]],2),a("div",{staticClass:"right"},[a("v-ons-toolbar-button",[a("v-ons-icon",{attrs:{icon:"ion-share, material: md-share"}})],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"content"},[a("v-ons-row",{staticClass:"poster",style:{backgroundColor:t.posterBG}},[t.flag?a("img",{attrs:{src:t.res.images.large}}):t._e()]),a("v-ons-row",{staticClass:"detailPage__info"},[a("ons-col",{staticClass:"info__text"},[a("div",{staticClass:"text__title"},[t._v(t._s(t.res.title))]),a("div",[t._v(" 类型: "),t._l(t.res.genres,(function(e,s){return a("span",{key:e},[t._v(t._s(0!=s?"/":"")+t._s(e))])}))],2),a("div",[t._v("原名:"+t._s(t.res.original_title))]),a("div",[t._v("上映年份:"+t._s(t.res.year))])]),a("ons-col",{staticClass:"info__rating",attrs:{width:"87px"}},[a("v-ons-card",[a("div",{staticClass:"title"},[t._v("豆瓣评分")]),t.flag?a("div",{staticClass:"content"},[0!=t.res.rating.average?a("div",{staticClass:"rating__text"},[t._v(t._s(t.res.rating.average))]):t._e(),a("rating",{attrs:{rating:t.res.rating,detail:!0}}),0!=t.res.rating.average?a("div",[t._v(t._s(t.res.ratings_count)+"人")]):t._e()],1):t._e()])],1)],1),a("v-ons-row",{staticClass:"detailPage__main"},[a("v-ons-row",[a("div",{staticClass:"main__title"},[t._v("简介")]),a("div",{class:t.main__summary},[t._v(" "+t._s(t.res.summary)+" "),"-1"!=t.main__summary.indexOf("hideText")?a("div",{staticClass:"summary__expand"},[t._v(" ... "),a("span",{on:{click:t.expand}},[t._v("展开")])]):t._e()])]),a("v-ons-row",[a("ons-row",{staticClass:"main__title"},[t._v("影人")]),a("ons-row",{staticClass:"main__scroll-x"},[t._l(t.res.directors,(function(e){return[e.avatars?a("ons-col",{key:"director"+e.id,staticClass:"main__directors",attrs:{width:"84px"}},[e.avatars?a("img",{attrs:{src:e.avatars.medium}}):t._e(),a("div",{staticClass:"g-overflowHide"},[t._v(t._s(e.name))]),a("div",{staticClass:"scroll-x__label"},[t._v("导演")])]):t._e()]})),t._l(t.res.casts,(function(e){return[e.avatars?a("ons-col",{key:"cast"+e.id,staticClass:"main__casts",attrs:{width:"84px"}},[a("img",{attrs:{src:e.avatars.medium}}),a("div",{staticClass:"g-overflowHide"},[t._v(t._s(e.name))]),a("div",{staticClass:"scroll-x__label"},[t._v("演员")])]):t._e()]}))],2)],1)],1)],1),a("Loading",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}]})],1)},A=[],E=(a("c96a"),a("96cf"),a("1da1")),G=a("aaf6"),D=a.n(G),z={name:"detailPage",components:{Loading:I,rating:S},data:function(){return{url:"v2/movie/subject/",res:{},posterBG:"",main__summary:"main__summary hideText",flag:!1,id:""}},created:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t,e.next=3,t.$http.jsonp(t.url+t.id).then((function(e){var a=e.body;t.res=a}),(function(t){console.log(t)}));case 3:return e.next=5,D()(t.res.images.small,{ignore:["rgb(0,0,0)","rgb(255,255,255)"],scale:.6});case 5:a=e.sent,t.posterBG=a[0].color,t.flag=!0;case 8:case"end":return e.stop()}}),e)})))()},methods:{expand:function(){this.main__summary="main__summary"}}},J=z,R=(a("9494"),a("8743"),Object(M["a"])(J,T,A,!1,null,"762956fe",null)),U=R.exports,B={name:"searchPage2",components:{Loading:I,rating:S},data:function(){return{url:"v2/movie/search?q=",searchMovieList:[],searchTotal:"",start:0,count:20,destroy:!1}},created:function(){this.searchValue&&this.doSearch()},methods:{loadList:function(t){var e=this;""!=e.searchValue&&this.$http.jsonp(e.url+e.searchValue+"&start="+20*e.start+"&count="+e.count).then((function(a){e.start+=1,e.searchMovieList=e.searchMovieList.concat(a.body.subjects),e.searchTotal=a.body.total,t&&t(),a.body.total<=20*e.start&&(e.start="-1")}),(function(t){console.error(t.message||"系统异常，请稍后再试")}))},loadMore:function(t){"-1"!=this.start?this.loadList(t):t()},back:function(){this.$store.commit("navigator/pop")},doSearch:function(){this.start=0,this.searchMovieList=[],this.loadList()},toDetailPage:function(t){this.$store.commit("navigator/push",{extends:U,data:function(){return{id:t}}})}}},q=B,F=(a("83e2"),Object(M["a"])(q,C,k,!1,null,"7cbf242c",null)),X=F.exports,Q=a("cc06"),Y={name:"searchPage",components:{Loading:I},data:function(){return{url:"v2/movie/search?q=",searchValue:"",searchMovieList:[],searchHistoryArr:JSON.parse(localStorage.getItem("searchHistoryArr"))}},beforeRouteLeave:function(t,e,a){"/HitMoviePage"==t.path&&(this.searchValue=""),a()},created:function(){this.debounceLoadList=Object(Q["a"])(800,this.loadList)},watch:{searchValue:function(){""==this.searchValue?this.searchMovieList=[]:this.debounceLoadList(this.searchValue)}},methods:{loadList:function(t){if(""!=t){var e=this;this.$http.jsonp(e.url+t).then((function(t){""!=e.searchValue&&(e.searchMovieList=t.body.subjects)}),(function(t){console.error(t.message||"系统异常，请稍后再试")}))}},movieName:function(t){return t.replace(new RegExp(this.searchValue,"gm"),"<span>"+this.searchValue+"</span>")},back:function(){this.$store.commit("navigator/pop")},searchHistoryClear:function(){this.searchHistoryArr=[],localStorage.clear()},doSearch:function(){this.saveSearch();var t=this;this.$store.commit("navigator/push",{extends:X,data:function(){return{searchValue:t.searchValue}}})},saveSearch:function(){var t=JSON.parse(localStorage.getItem("searchHistoryArr"))||[],e=t.indexOf(this.searchValue);"-1"!=e&&t.splice(e,1),t.unshift(this.searchValue),t.length>4&&(t.length=4),localStorage.setItem("searchHistoryArr",JSON.stringify(t)),this.searchHistoryArr=JSON.parse(localStorage.getItem("searchHistoryArr"))},quickSearch:function(t){this.searchValue=t},toDetailPage:function(t){this.saveSearch(),this.$store.commit("navigator/push",{extends:U,data:function(){return{id:t}}})}}},Z=Y,K=(a("3007"),Object(M["a"])(Z,y,b,!1,null,"290f1e56",null)),W=K.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ons-page",{staticClass:"selectCityPage"},[a("v-ons-toolbar",{attrs:{modifier:"noshadow"}},[a("div",{staticClass:"left"},[a("v-ons-back-button",{staticClass:"back-button"})],1),a("div",{staticClass:"center"},[t._v("选择城市")])]),a("div",{staticClass:"middleBlock"},[t.positionCity?[a("div",{staticClass:"cityItemLabel"},[t._v("GPS定位城市")]),a("v-ons-col",{staticClass:"noMargin",attrs:{width:"28.9%",name:t.positionCity},on:{click:function(e){return t.selectCity("GPS")}}},[a("v-ons-icon",{staticClass:"icon--location",attrs:{icon:"ion-location"}}),a("span",[t._v(t._s(t.positionCity))])],1)]:t._e(),a("div",{staticClass:"cityItemLabel"},[t._v("热门城市")]),a("v-ons-row",{staticClass:"hotCityItem"},t._l(t.hotCity,(function(e,s){return a("v-ons-col",{key:e.id,class:s>11?"noMargin":"",attrs:{width:"28.9%"},on:{click:function(a){return t.selectCity(e.name)}}},[t._v(t._s(e.name))])})),1)],2),a("div",{staticClass:"bottomBlock"},[a("v-ons-list",{attrs:{modifier:"noborder"}},[a("v-ons-lazy-repeat",{attrs:{"render-item":t.renderItem,length:t.pinyinCityList.length}})],1)],1)],1)},et=[],at=(a("d81d"),a("e56c")),st={name:"selectCityPage",data:function(){return{hotCity:[],pinyinCityList:[],modalVisible:!1,scrollFixed:{first:!0,top:0,headerIdNumber:0}}},created:function(){this.getCity(),this.pinyinCityList=at.result.map((function(t,e){return(0==e||at.result[e-1].key!=t.key)&&(t.first=!0),t}))},computed:{hotCityUrl:function(){return"v2/loc/list"},positionCity:function(){return this.$store.state.selectPage.city.trueValue&&this.$store.state.selectPage.city.value}},methods:{getCity:function(){var t=this;t.$http.jsonp(t.hotCityUrl).then((function(e){var a=e.body;t.hotCity=(a.locs.length=15)&&a.locs}),(function(t){console.log(t)}))},renderItem:function(t){var e=this;return new s["a"]({template:'<v-ons-list-item :key="index" @click="selectCity2('.concat(t,')" modifier="longdivider">').concat(e.getListItem(t),"</v-ons-list-item>"),data:function(){return{index:t}},methods:{selectCity2:function(t){"listRowHeader"!=event.target.className&&(e.$store.commit("selectPage/changeCity",{value:e.pinyinCityList[t].city,trueValue:!1}),e.$store.commit("navigator/pop"))}}})},getListItem:function(t){var e=this,a=e.pinyinCityList,s="",i="listRow--border";return a[t].first&&(i="",s="<v-ons-row class='listRowHeader' id=\"".concat("header"+(t+1),'">\n                      ').concat(a[t].key,"\n                    </v-ons-row>")),s+="<v-ons-row class='listRow ".concat(i,"'>\n                      ").concat(a[t].city,"\n                   </v-ons-row>"),s},selectCity:function(t){"GPS"!=t&&this.$store.commit("selectPage/changeCity",{value:t,trueValue:!1}),this.$store.commit("navigator/pop")}}},it=st,nt=(a("65a9"),Object(M["a"])(it,tt,et,!1,null,null,null)),ot=nt.exports,rt={name:"indexHeader",props:["city"],data:function(){return{searchPage:W,selectCityPage:ot}},methods:{push:function(t){this.$store.commit("navigator/push",t)}}},ct=rt,lt=(a("00c1"),Object(M["a"])(ct,g,_,!1,null,"5176dbdd",null)),ut=lt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ons-page",{attrs:{"infinite-scroll":t.loadMore}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.items.length>0,expression:"items.length>0"}],staticClass:"content"},[a("v-ons-pull-hook",{attrs:{action:t.firstLoadItem},on:{changestate:function(e){t.state=e.state}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:"initial"===t.state,expression:"state === 'initial'"}]},[t._v("上拉刷新")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"preaction"===t.state,expression:"state === 'preaction'"}]},[t._v("放开刷新")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"action"===t.state,expression:"state === 'action'"}]},[t._v("加载中...")])]),a("v-ons-list",t._l(t.items,(function(e){return a("v-ons-list-item",{key:e.id,attrs:{id:e.id,modifier:"longdivider",size:"contain",tappable:""},on:{click:function(a){return t.toDetailPage(e.id)}}},[a("div",{staticClass:"left"},[a("img",{attrs:{src:e.images.medium,onerror:t.defaultImg}})]),a("div",{staticClass:"center"},[a("div",{staticClass:"center__title"},[t._v(t._s(e.title))]),a("div",{staticClass:"center__details"},[a("rating",{staticClass:"details__score",attrs:{rating:e.rating}},[a("span",{attrs:{slot:"rating__text"},slot:"rating__text"},[t._v(t._s(e.rating.average))])]),e.directors.length>0?a("div",[t._v("导演："+t._s(e.directors["0"].name))]):t._e(),e.casts.length>0?a("div",[t._v(" 主演： "),t._l(e.casts,(function(e,s){return a("span",{key:s},[t._v(t._s(0!=s?" / ":"")+t._s(e.name))])}))],2):t._e()],1),a("span",{staticClass:"center__watch"},[t._v(t._s(e.collect_count)+"人看过")])])])})),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.items.length,expression:"items.length===0"}]},[a("Loading")],1)])},dt=[],ht={props:["url"],components:{Loading:I,rating:S},data:function(){return{state:"initial",items:[],start:0,count:20,total:0,defaultImg:"this.src='"+a("be7e")+"'"}},computed:{city:function(){return this.items=[],this.$store.state.selectPage.city.value}},watch:{city:{handler:function(){""!=this.city&&this.firstLoadItem()},deep:!0}},methods:{loadMore:function(t){var e=this;"-1"!=e.start?this.loadList(void 0,t):t()},firstLoadItem:function(t){this.loadList("0",t)},loadList:function(t,e){var a=this;this.$http.jsonp(a.url+a.city+"&start="+(t||20*a.start)+"&count="+a.count).then((function(s){a.total=s.body.total,0==t?(a.items=s.body.subjects,a.start=1,e&&e()):(a.start++,a.items=a.items.concat(s.body.subjects),e&&e()),s.body.total<=20*a.start&&(a.start="-1")}),(function(t){console.error(t.message||"系统异常，请稍后再试")}))},toDetailPage:function(t){this.$store.commit("navigator/push",{extends:U,data:function(){return{id:t}}})}}},ft=ht,mt=(a("ab8b"),Object(M["a"])(ft,vt,dt,!1,null,"4ea2b2ed",null)),pt=mt.exports,gt={name:"HitMoviePage",components:{indexHeader:ut,HitMovieList:pt},data:function(){return{hitMovieUrl:"v2/movie/in_theaters?city=",comingSoonUrl:"v2/movie/coming_soon?city="}},computed:{city:function(){return this.$store.state.selectPage.city},tabs:function(){return[{label:"正在热映",page:pt,props:{url:this.hitMovieUrl}},{label:"即将上映",page:pt,props:{url:this.comingSoonUrl}}]}},methods:{push:function(t){this.$store.commit("navigator/push",t)}},watch:{headerColOne:function(){this.headerColTwo=!this.headerColOne},headerColTwo:function(){this.headerColOne=!this.headerColTwo}}},_t=gt,yt=(a("6f6b"),Object(M["a"])(_t,m,p,!1,null,null,null)),bt=yt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-ons-page",[a("div",{staticClass:"content"},[t._v(" L.Rain作品 ")])])},kt=[],wt={name:"findVideo",data:function(){return{}}},xt=wt,Lt=(a("89f6"),Object(M["a"])(xt,Ct,kt,!1,null,"3c00fc47",null)),Pt=Lt.exports,Mt={name:"AppTabbar",data:function(){return{animationOptions:{},topPosition:0,tabs:[{label:"热映",icon:"ion-ios-book",activeIcon:"md-face",page:bt,key:"HitMoviePage"},{label:"找片",icon:"ion-ios-eye",page:Pt,key:"FindVideo"}]}},computed:{index:{get:function(){return this.$store.state.tabbar.index},set:function(t){this.$store.commit("tabbar/set",t)}},title:function(){return this.md?"Onsen UI":this.tabs[this.index].title||this.tabs[this.index].label},swipeTheme:function(){return this.md&&{backgroundColor:"rgb(".concat(this.colors.join(","),")"),transition:"all ".concat(this.animationOptions.duration||0,"s ").concat(this.animationOptions.timing||"")}},swipePosition:function(){return this.md&&{top:this.topPosition+"px",transition:"all ".concat(this.animationOptions.duration||0,"s ").concat(this.animationOptions.timing||"")}}}},Ot=Mt,St=(a("776c"),Object(M["a"])(Ot,h,f,!1,null,null,null)),Vt=St.exports,$t={beforeCreate:function(){this.$store.commit("navigator/push",Vt)},computed:{pageStack:function(){return this.$store.state.navigator.stack},options:function(){return this.$store.state.navigator.options}},methods:{storePop:function(){this.$store.commit("navigator/pop")}}},Ht=$t,jt=(a("bf16"),Object(M["a"])(Ht,v,d,!1,null,null,null)),Nt=jt.exports;s["a"].use(i["a"]),s["a"].use(o.a),s["a"].use(u["a"]),s["a"].config.productionTip=!1,new s["a"]({el:"#app",components:{AppNavigator:Nt},template:"<AppNavigator/>",store:l,beforeCreate:function(){s["a"].prototype.md=this.$ons.platform.isAndroid()}}),window.onload=function(){"undefined"!==typeof cordova?document.addEventListener("deviceready",(function(){l.dispatch("selectPage/getMobPosition")}),!1):l.dispatch("selectPage/getH5Position")}},"65a9":function(t,e,a){"use strict";var s=a("8c84"),i=a.n(s);i.a},"6f6b":function(t,e,a){"use strict";var s=a("aee7"),i=a.n(s);i.a},"776c":function(t,e,a){"use strict";var s=a("4df7"),i=a.n(s);i.a},7977:function(t,e,a){},8096:function(t,e,a){t.exports=a.p+"img/loading_green.c0f9be0.c0f9be04.gif"},"83e2":function(t,e,a){"use strict";var s=a("27f0"),i=a.n(s);i.a},8743:function(t,e,a){"use strict";var s=a("38a4"),i=a.n(s);i.a},"89f6":function(t,e,a){"use strict";var s=a("7977"),i=a.n(s);i.a},"8c84":function(t,e,a){},9243:function(t,e,a){},9494:function(t,e,a){"use strict";var s=a("e4a7"),i=a.n(s);i.a},"984a":function(t,e,a){},ab8b:function(t,e,a){"use strict";var s=a("9243"),i=a.n(s);i.a},aecf:function(t,e,a){"use strict";var s=a("19ea"),i=a.n(s);i.a},aee7:function(t,e,a){},b519:function(t,e,a){},be7e:function(t,e,a){t.exports=a.p+"img/movie_default.300c64a8.png"},bea6:function(t,e,a){},bf16:function(t,e,a){"use strict";var s=a("bea6"),i=a.n(s);i.a},e4a7:function(t,e,a){},e56c:function(t){t.exports=JSON.parse('{"status":"0","result":[{"city":"安徽","key":"A"},{"city":"澳门","key":"A"},{"city":"北京","key":"B"},{"city":"重庆","key":"C"},{"city":"福建","key":"F"},{"city":"甘肃","key":"G"},{"city":"广东","key":"G"},{"city":"广西","key":"G"},{"city":"贵州","key":"G"},{"city":"海南","key":"H"},{"city":"河北","key":"H"},{"city":"黑龙江","key":"H"},{"city":"河南","key":"H"},{"city":"香港","key":"H"},{"city":"湖北","key":"H"},{"city":"湖南","key":"H"},{"city":"江苏","key":"J"},{"city":"江西","key":"J"},{"city":"吉林","key":"J"},{"city":"辽宁","key":"L"},{"city":"内蒙古","key":"N"},{"city":"宁夏","key":"N"},{"city":"青海","key":"Q"},{"city":"陕西","key":"S"},{"city":"山东","key":"S"},{"city":"上海","key":"S"},{"city":"山西","key":"S"},{"city":"四川","key":"S"},{"city":"天津","key":"T"},{"city":"台湾","key":"T"},{"city":"新疆","key":"X"},{"city":"西藏","key":"X"},{"city":"云南","key":"Y"},{"city":"浙江","key":"Z"}]}')},e9eb:function(t,e,a){"use strict";var s=a("2dba"),i=a.n(s);i.a}});